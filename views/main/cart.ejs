<%- layout('layout') -%>

<div class="container">
	<div class="row">
		<div class="col-lg-6">

			<! --copied from login.ejs line 7-15 -->
			<% if (message.length >0) { %>
    			<div class ="alert alert-success alert-dismissible">
    				<button type ="button" class ="close" data-dismiss ="alert" aria-label="close">
    					<span aria-hidden ="true">&times;</span>
    				</button>
    			<%= message %>

    			</div>
   			<%} %>



		<! --now we gonna loop the cart object whc is in main.js line 79 -->

		<% for (var i=0; i<foundCart.items.length; i++) { %>
			<div class="list-group">
				<span class="list-group-item">
					<div class="row">
						<div class="col-md-3">
							
							<span><img class="product-image" src="<%- foundCart.items[i].item.image -%>"></span>

						</div>


						<div class="col-md-6">

						<! --all these are css bootstrap class -->
						<p class="list-group-item-heading"><%- foundCart.items[i].item.name -%></p>


						</div>

						<div class="col-md-3">

						<p><%- foundCart.items[i].quantity -%></p>
						<p><%- foundCart.items[i].price -%></p>

						<!-- we added the hidden input type down and set request.body to the name of item n price so we could use it in our remove route n added a message that shows that suucessfully removed product-->

						<form method ="post"  action="/remove">
							<input type="hidden" name="item" value="<%- foundCart.items[i]._id %>">
							<input type="hidden" name="price" value="<%- foundCart.items[i]._price %>">
							<button type="submit" type="button">Remove</button>
						</form>	


						</div>

					</div>

				</span>
			</div>
		<% } %>


		</div>

		<div class="3"></div>


		<div class="3"></div>


	</div>
	
</div>		




